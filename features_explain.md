# Radiomicsの特徴量について

参考ページ

https://pyradiomics.readthedocs.io/en/latest/features.html

各特徴量の説明

https://docs.google.com/spreadsheets/d/1PeHRZ5PCTRt3JSI-F09YFwqHbIjDfWzsbhr5hLa1uLg/edit#gid=0

# First Order Features

### 理解する上で必要になる定義

X：
領域(ROI)内のボクセルの集合．N_pはボクセルの個数を示す

P(i)：
各ボクセルの強度レベルを調べて，ヒストグラムにプロットされたもの．このヒストグラムはN_g個のbinに分かれて構成される

p(i)：
ヒストグラムを正規化したもの．ヒストグラムの各binをN_pで割って，正規化したヒストグラムを得る．これによってボクセル数の違いの影響を避けることができる．

注意：voxelArrayShiftの使用
　画像に負の強度値があるとエネルギーなどの特定の値を計算する時に問題が発生する．例えばエネルギーは強度値の磁場に基づいた計算が行われるため，負の値は意図しない結果を生じさせる
(例) -1000のエネルギーが1000^2になってしまう．そこで全てに例えば2000という値を加えることで1000という数字に置き換えることができる．
　一方で，IBSI(国際整体画像科学会)では負の値の補正は実装されていない．注意が必要．

## 3D shape

N_v：
ROIに含まれるボクセルの数を示す

N_f：
メッシュを定義する三角形の数を示す

V：
メッシュの体積を立方mmで示す

A：
メッシュの表面積を平方mmで示す

特徴

- グレースケールの話とは独立している特徴量．ジオメトリーに基づいている特徴量．どれだけ明るいか暗いかには依存していない特徴量
- ROIの三次元形状から特徴量を得るためにROIの表面積を近似している．その近侍プロセスには「マーチングキューブ」アルゴリズムが使用され，三角形のメッシュが作成されている．このメッシュは画像のボクセル強度とは関係なく，ジオメトリから作成される．
- 「マーチングキューブ」アルゴリズムは，以下の記事で解説されている
http://kutodatabase.com/kuto1970.shop/Works_MarchingCubeAlgorithm.html
- 三角形は、その法線が一貫して同じ方向を指すように構築されます（PyRadiomicsでは常にROIから外向きです）。これはメッシュのボリュームを計算する際に、正しい符号付きのボリュームを求めるために重要です。
